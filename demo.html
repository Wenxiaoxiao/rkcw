<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=3, minimum-scale=1, user-scalable=no">
    <meta name="author" content="laoshutu, 15391612520@sina.cn" />
    <title>睿卡潮玩</title>
    <script src="./jquery.min.js"></script>
    <link rel="stylesheet/less" href='./demo.less'>
    <script type="text/javascript" src="./less.min.js"></script>
    <!-- <link type="text/css" rel="styleSheet" href='./demo.css'> -->
    <script type="text/javascript" src="./flexable.js"></script>
    <!-- <script src="./doT.js" type="text/javascript"></script> -->
    <link rel="stylesheet" href="./swiper.min.css">
    <script type="text/javascript" src="./swiper.min.js"></script>
</head>

<body>
    <div class="wrapper-box">
        <div class="box-tabs">
            <div class="tabs-list">
                <div class="left-logo">
                    <img src="./images/nav/logo.png" class="logo" />
                </div>
                <div class="right-nav">
                    <div class="nav-item nav-item1 active"></div><img src="./images/nav/line.png" class="line" />
                    <div class="nav-item nav-item2"></div><img src="./images/nav/line.png" class="line" />
                    <div class="nav-item nav-item3"></div><img src="./images/nav/line.png" class="line" />
                    <div class="nav-item nav-item4"></div><img src="./images/nav/line.png" class="line" />
                    <div class="nav-item nav-item5"></div>
                </div>
            </div>
        </div>
        <div class="box-banner">
            <div class="btn-wrapper">
                <img src="./images/gobroadcast.png" class="gobroadcast" />
            </div>
        </div>
        <div class="box-time" id="box-time">
            <div class="time-list">
                <div class="left-list">
                    <div class="tit"><img src="./images/time/tit1.png" /></div>
                    <div class="time-lists-left">
                        <div class="time-item time-item1"><span></span></div>
                        <div class="time-item time-item2"><span></span></div>
                        <div class="time-item time-item3"><span></span></div>
                        <div class="time-item time-item4"><span></span></div>
                        <div class="time-item time-item5"><span></span></div>
                        <div class="time-item time-item6"><span></span></div>
                    </div>
                </div>
                <div class="right-list">
                    <div class="tit"><img src="./images/time/tit2.png" /></div>
                    <div class="time-lists-right">
                        <div class="time-item time-item1"><span></span></div>
                        <div class="time-item time-item2"><span></span></div>
                        <div class="time-item time-item3"><span></span></div>
                        <div class="time-item time-item4"><span></span></div>
                        <div class="time-item time-item5"><span></span></div>
                        <div class="time-item time-item6"><span></span></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="box-content">
            <div class="content-center">
                <div class="card-info" id="card-info">
                    <div class="tabs-tit-list">
                        <div class="tit-item tit-item1 active"></div>
                        <div class="tit-item tit-item2"></div>
                        <div class="tit-item tit-item3"></div>
                    </div>
                    <div class="tabs-content-list">
                        <div class="content-item content-item1">
                            <img src="./images/info/pic1.png" class="left-pic" />
                            <div class="right-des">
                                <a class="des-item" href="https://www.baidu.com/">
                                    <div class="des-tit">我是标题我是标题1</div>
                                    <div class="des-content">
                                        我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容
                                    </div>
                                </a>
                                <a class="des-item" href="https://www.baidu.com/">
                                    <div class="des-tit">我是标题我是标题1</div>
                                    <div class="des-content">
                                        我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容
                                    </div>
                                </a>
                                <a class="des-item" href="https://www.baidu.com/">
                                    <div class="des-tit">我是标题我是标题1</div>
                                    <div class="des-content">
                                        我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容
                                    </div>
                                </a>
                            </div>
                        </div>
                        <div class="content-item content-item2">
                            <img src="./images/info/pic2.png" class="left-pic" />
                            <div class="right-des">
                                <a class="des-item" href="https://www.baidu.com/">
                                    <div class="des-tit">我是标题我是标题2</div>
                                    <div class="des-content">
                                        我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容
                                    </div>
                                </a>
                                <a class="des-item" href="https://www.baidu.com/">
                                    <div class="des-tit">我是标题我是标题2</div>
                                    <div class="des-content">
                                        我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容
                                    </div>
                                </a>
                                <a class="des-item" href="https://www.baidu.com/">
                                    <div class="des-tit">我是标题我是标题2</div>
                                    <div class="des-content">
                                        我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容
                                    </div>
                                </a>
                            </div>
                        </div>
                        <div class="content-item content-item3">
                            <img src="./images/info/pic3.png" class="left-pic" />
                            <div class="right-des">
                                <a class="des-item" href="https://www.baidu.com/">
                                    <div class="des-tit">我是标题我是标题3</div>
                                    <div class="des-content">
                                        我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容
                                    </div>
                                </a>
                                <a class="des-item" href="https://www.baidu.com/">
                                    <div class="des-tit">我是标题我是标题3</div>
                                    <div class="des-content">
                                        我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容
                                    </div>
                                </a>
                                <a class="des-item" href="https://www.baidu.com/">
                                    <div class="des-tit">我是标题我是标题3</div>
                                    <div class="des-content">
                                        我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容我是内容
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-broadcast" id="card-broadcast">
                    <div class="tabs-tit-list">
                        <div class="tit-item tit-item1 active"></div>
                        <div class="tit-item tit-item2"></div>
                    </div>
                    <div class="tabs-content-list">
                        <video class="design-video design-video1" src="https://www.w3school.com.cn/i/movie.ogg"
                            controls="controls"></video>
                        <video class="design-video design-video2" src="https://www.w3school.com.cn/i/movie.ogg"
                            controls="controls"></video>
                    </div>
                </div>
                <div class="card-hightlight" id="card-hightlight">
                    <div class="swiper-container">
                        <div class="swiper-wrapper">
                            <div class="swiper-slide">
                                <img src="./images/hightlight/1.jpg" />
                            </div>
                            <div class="swiper-slide">
                                <img src="./images/hightlight/2.jpg" />
                            </div>
                            <div class="swiper-slide">
                                <img src="./images/hightlight/3.jpg" />
                            </div>
                            <div class="swiper-slide">
                                <img src="./images/hightlight/4.jpg" />
                            </div>
                        </div>
                        <!-- 如果需要分页器 -->
                        <div class="swiper-pagination"></div>

                        <!-- 如果需要导航按钮 -->
                        <div class="swiper-button-prev"></div>
                        <div class="swiper-button-next"></div>

                        <!-- 如果需要滚动条 -->
                        <div class="swiper-scrollbar"></div>
                    </div>
                </div>
                <div class="card-club" id="card-club">
                    <div class="club-item-list">
                        <div class="club-item club-item1">
                            <img src="./images/club/1.png" />
                        </div>
                        <div class="club-item club-item2">
                            <img src="./images/club/2.png" />
                        </div>
                        <div class="club-item club-item3">
                            <img src="./images/club/3.png" />
                        </div>
                    </div>
                    <div class="bottom"></div>
                </div>
                <div class="card-friends">
                    <img src="./images/friends/f_tit.png" class="friends-tit" />
                    <img src="./images/friends/friends.png" class="friends" />
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    var mySwiper = new Swiper('.swiper-container', {
        autoplay: 2000, //可选选项，自动滑动
        speed: 500, //自动滑动开始到结束的时间（单位ms）
        loop: true, // 循环模式选项
        //spaceBetween: 30,
        //loopedSlides: 4, //在loop模式下使用slidesPerview:'auto',还需使用该参数设置所要用到的loop个数。
        slidesPerView: 2, //设置slider容器能够同时显示的slides数量(carousel模式)。另外，支持'auto'值，会根据容器container的宽度调整slides数目。
        //effect: 'coverflow', //可以实现3D效果的轮播,
        // 如果需要分页器
        pagination: {
            el: '.swiper-pagination',
            clickable: true
        },
        centeredSlides: true, //设定为true时，active slide会居中，而不是默认状态下的居左。
        // 如果需要前进后退按钮
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },

        // 如果需要滚动条
        scrollbar: {
            el: '.swiper-scrollbar',
        },
    });
    //10.31号的时候，10.30就是回放
    let timer = setInterval(function () {
        dealTime();
    }, 60000);

    dealTime();

    function dealTime() {
        let time = new Date('2020/10/31').getTime();
        let now = new Date().getTime();
        if (now > time) {
            clearInterval(timer);
            $(".card-broadcast .tabs-tit-list .tit-item1").removeClass('active');
            $(".card-broadcast .tabs-tit-list .tit-item2").addClass('active');
            $(".card-broadcast .tabs-tit-list .tit-item").on("click", function () {
                $(this).addClass('active');
                $(this).siblings().removeClass('active');
                let m = $(this).index();
                console.log('m====', m);
                //展示对应的content
                $($(".card-broadcast .tabs-content-list .design-video")[m]).removeClass('display_none');
                $($(".card-broadcast .tabs-content-list .design-video")[m]).siblings().addClass('display_none');
            })
        }
    }
    //鼠标悬浮，右侧内容展示
    $(".time-lists-left .time-item span").mouseenter(function () {
        $(this).parent().addClass('active');
    })
    $(".time-lists-left .time-item span").mouseleave(function () {
        $(this).parent().removeClass('active');
    })
    $(".time-lists-right .time-item span").mouseenter(function () {
        $(this).parent().addClass('active');
    })
    $(".time-lists-right .time-item span").mouseleave(function () {
        $(this).parent().removeClass('active');
    })
    //点击切换事件
    $(".card-info .tabs-tit-list .tit-item").on('click', function () {
        $(this).addClass('active');
        $(this).siblings().removeClass('active');
        let m = $(this).index();
        console.log('m====', m);
        //展示对应的content
        $($(".card-info .tabs-content-list .content-item")[m]).removeClass('display_none');
        $($(".card-info .tabs-content-list .content-item")[m]).siblings().addClass('display_none');
    })
    let navMap = {
        0: '#box-time',
        1: '#card-info',
        2: '#card-broadcast',
        3: '#card-hightlight',
        4: '#card-club'
    };
    //点击nav 滚动到对应位置 
    $(".nav-item").on('click', function () {
        $(this).addClass('active');
        $(this).siblings().removeClass('active');
        let m = $(".nav-item").index(this);
        scrollTo(navMap[m], 1000);
    })
    $(".gobroadcast").on('click', function () {
        scrollTo('#card-broadcast', 1000);
    })

    function scrollTo(ele, speed) {
        if (!speed) speed = 300;
        if (!ele) {
            $("html,body").animate({
                scrollTop: 0
            }, speed);
        } else {
            if (ele.length > 0) $("html,body").animate({
                scrollTop: $(ele).offset().top - 111
            }, speed);
        }
        return false;
    }
    //滚动屏幕 nav切换
    window.onscroll = function () {
        let card1 = $('#box-time').offset().top + $('#box-time').height();
        let card2 = $('#card-info').offset().top + $('#card-info').height();
        let card3 = $('#card-broadcast').offset().top + $('#card-broadcast').height();
        let card4 = $('#card-hightlight').offset().top + $('#card-hightlight').height();
        let card5 = $('#card-club').offset().top + $('#card-club').height();
        let now = $(window).scrollTop();
        if (now < card1) {
            $('.nav-item1').addClass('active');
            $('.nav-item1').siblings().removeClass('active');
        } else if (card1 < now && now < card2) {
            $('.nav-item2').addClass('active');
            $('.nav-item2').siblings().removeClass('active');
        } else if (card2 < now && now < card3) {
            $('.nav-item3').addClass('active');
            $('.nav-item3').siblings().removeClass('active');
        } else if (card3 < now && now < card4) {
            $('.nav-item4').addClass('active');
            $('.nav-item4').siblings().removeClass('active');
        } else if (now > card4) {
            $('.nav-item5').addClass('active');
            $('.nav-item5').siblings().removeClass('active');
        }
    }
</script>

</html>